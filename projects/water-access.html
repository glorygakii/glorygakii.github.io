<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Water Funds Accountability | Glory Gakii</title>
  <link rel="stylesheet" href="../assets/css/styles.css"/>
</head>
<body>

  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="nav-brand">Glory <span>Gakii</span></div>
    <ul class="nav-links">
      <li><a href="../index.html">Home</a></li>
      <li><a href="../about.html">About</a></li>
      <li><a href="../projects.html" class="active">Projects</a></li>
      <li><a href="../contact.html">Contact</a></li>
    </ul>
  </nav>

  <!-- PROJECT HEADER -->
  <div class="project-header">
    <div class="container">
      <a href="../projects.html" class="back-link">← Back to Projects</a>
      <div class="project-meta">
        <span class="meta-tag highlight">SQL</span>
        <span class="meta-tag highlight">Power BI</span>
        <span class="meta-tag highlight">Excel</span>
        <span class="meta-tag">Fraud Detection</span>
        <span class="meta-tag">Data Storytelling</span>
        <span class="meta-tag">Maji Ndogo</span>
      </div>
      <h1 class="project-title-lg">Water Funds Accountability Dashboard</h1>
    </div>
  </div>

  <!-- PROJECT CONTENT -->
  <div class="container">
    <div class="project-content">

      <!-- MAIN CONTENT -->
      <div class="project-main">

        <h2>Problem Statement</h2>
        <p>
          Millions of people in Kenya lack access to safe drinking water. But beyond the infrastructure gap, there's another problem: funds allocated for water projects don't always reach their intended purpose. This project investigated financial irregularities in the <strong>Maji Ndogo</strong> water infrastructure dataset — looking for patterns that could indicate fraud, misallocation, or corruption in public spending.
        </p>

        <h2>Approach</h2>
        <p>
          Working with the <code>md_water_services</code> database in MySQL Workbench, I designed a series of SQL queries to cross-reference spending records, visit logs, and location data. The goal was to surface anomalies that wouldn't be visible in a simple report — patterns that only emerge when you look across multiple tables together. Findings were then summarised in Excel and visualised in Power BI.
        </p>
        <ul>
          <li>Joined <code>water_source</code>, <code>location</code>, and <code>visits</code> tables to build a full picture per site</li>
          <li>Used window functions to rank sources by visit frequency and flag outliers</li>
          <li>Identified employees with statistically unusual activity patterns</li>
          <li>Summarised findings in an Excel pivot table for stakeholder reporting</li>
          <li>Built a Power BI dashboard to communicate patterns visually</li>
        </ul>

        <h2>SQL Analysis</h2>
        <p>The core query used a multi-table JOIN with window functions to analyse water source distribution and detect irregularities across provinces:</p>

        <div class="code-snippet">
<span class="cm">-- Water Funds Accountability Analysis</span>
<span class="cm">-- Skills: JOINs, Window Functions, Aggregations</span>
<span class="kw">SELECT</span>
  l.province_name,
  l.location_type,
  ws.type_of_water_source,
  <span class="fn">COUNT</span>(*) <span class="kw">AS</span> total_sources,
  <span class="fn">SUM</span>(ws.number_of_people_served) <span class="kw">AS</span> people_served,
  <span class="fn">ROUND</span>(<span class="fn">AVG</span>(v.time_in_queue), <span class="str">0</span>) <span class="kw">AS</span> avg_wait_time_mins,
  <span class="fn">ROUND</span>(
    <span class="fn">SUM</span>(ws.number_of_people_served) * <span class="str">100.0</span> /
    <span class="fn">SUM</span>(<span class="fn">SUM</span>(ws.number_of_people_served))
    <span class="kw">OVER</span> (<span class="kw">PARTITION BY</span> l.province_name), <span class="str">2</span>
  ) <span class="kw">AS</span> pct_of_province
<span class="kw">FROM</span> visits v
<span class="kw">JOIN</span> water_source ws <span class="kw">ON</span> v.source_id = ws.source_id
<span class="kw">JOIN</span> location l <span class="kw">ON</span> v.location_id = l.location_id
<span class="kw">GROUP BY</span> l.province_name, l.location_type, ws.type_of_water_source
<span class="kw">ORDER BY</span> l.province_name, people_served <span class="kw">DESC</span>;
        </div>

        <h2>Screenshots</h2>

        <figure class="screenshot-box">
          <img src="../assets/images/sql-analysis.png" alt="SQL JOIN query with window functions in MySQL Workbench"/>
          <figcaption>MySQL Workbench — JOIN query with window functions across water_source, location & visits tables</figcaption>
        </figure>

        <figure class="screenshot-box">
          <img src="../assets/images/excel-summary.png" alt="Excel pivot table summary of water source data"/>
          <figcaption>Excel Pivot Table — Water source distribution summary by province and location type</figcaption>
        </figure>

        <figure class="screenshot-box">
          <img src="../assets/images/dashboard.png" alt="Power BI accountability dashboard"/>
          <figcaption>Power BI Dashboard — Water funds accountability overview across Maji Ndogo provinces</figcaption>
        </figure>

        <h2>Results</h2>
        <ul>
          <li>Identified sources with disproportionately high visit counts relative to population served</li>
          <li>Flagged employee records with irregular audit scores across multiple sites</li>
          <li>Summarised provincial water access patterns in an Excel pivot table</li>
          <li>Built a Power BI dashboard making findings accessible to non-technical stakeholders</li>
          <li>Demonstrated how SQL window functions can be used as a fraud detection tool in public sector data</li>
        </ul>

        <h2>Skills Demonstrated</h2>
        <ul>
          <li>Multi-table SQL JOINs across relational database</li>
          <li>Window functions: SUM() OVER, PARTITION BY, ORDER BY</li>
          <li>Anomaly detection through statistical comparison</li>
          <li>Excel pivot tables for stakeholder reporting</li>
          <li>Power BI dashboard design and data storytelling</li>
          <li>Translating technical findings for non-technical audiences</li>
        </ul>

      </div>

      <!-- SIDEBAR -->
      <aside class="project-sidebar">

        <div class="sidebar-card">
          <h4>Tools Used</h4>
          <ul>
            <li>MySQL Workbench</li>
            <li>Power BI</li>
            <li>Excel (Pivot Tables)</li>
            <li>SQL Window Functions</li>
            <li>Multi-table JOINs</li>
          </ul>
        </div>

        <div class="sidebar-card">
          <h4>Database</h4>
          <ul>
            <li>md_water_services</li>
            <li>water_source table</li>
            <li>location table</li>
            <li>visits table</li>
          </ul>
        </div>

        <div class="sidebar-card">
          <h4>Links</h4>
          <a href="https://github.com/glorygakii" target="_blank" class="sidebar-link">↗ GitHub Repository</a>
          <a href="../assets/pdf/water-access-report.pdf" class="sidebar-link">↓ Download Report PDF</a>
          <a href="../projects.html" class="sidebar-link">← All Projects</a>
        </div>

      </aside>

    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer">
    <p>© 2025 Glory Gakii &nbsp;·&nbsp;
      <a href="mailto:gakiimbiti6@gmail.com">gakiimbiti6@gmail.com</a>
      &nbsp;·&nbsp;
      <a href="https://linkedin.com/in/glorygakii" target="_blank">LinkedIn</a>
      &nbsp;·&nbsp;
      <a href="https://github.com/glorygakii" target="_blank">GitHub</a>
    </p>
  </footer>

</body>
</html>
